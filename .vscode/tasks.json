{
    // See https://go.microsoft.com/fwlink/?LinkId=733558
    // for the documentation about the tasks.json format
    "version": "2.0.0",
    "tasks": [
        {
            "label": "▶ (1) Configure Dev Environment",
            "type": "shell", // "shell" or "process"
            "command": ["nano"],
            "windows": {
                "command": "if not exist .env ( echo Creating new .env file from .env.template... && copy .env.template .env ) else ( echo Loading .env... Please edit and save your changes... ) && notepad"
            },
            "args": [".env"],
            "options": {
                "cwd": "meltano-project",
                "statusbar": {
                    "color": "#ffffff",
                    "tooltip": "Click to initialize or configure project settings",
                    "label": ">config!"
                }
            },
            "group": "build", // "test" for tests
            "presentation": {
                "reveal": "silent",
                "panel": "shared",
                "revealProblems": "onProblem"
            },
            "problemMatcher": [],
        },
        {
            "label": "▶ (2) Rebuild Dev Environment",
            "type": "shell", // "shell" or "process"
            "command": "docker-compose --project-name dataops-project-template_devcontainer -f .devcontainer/docker-compose.dev.yml down && docker-compose --file .devcontainer/docker-compose.dev.yml build",
            "group": "build", // "test" for tests
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
            "problemMatcher": [],
            "options": {
                "statusbar": {
                    "color": "#ffffff",
                    "tooltip": "Click to build the main docker image...",
                    "label": ">docker-build!"
                }
            }
        },
        {
            "label": "▶ (3) Run meltano from Terminal...",
            "type": "process", // "shell" or "process"
            "command": "docker",
            "args": [
                "run", "-it", 
                "-e", "MELTANO_ROOT=/projects/meltano-project", 
                "-e", "PROJECT_NAME=meltano-project", 
                "-v", "${workspaceFolder}/meltano-project:/projects/meltano-project", 
                "-w", "/projects/meltano-project", 
                "-v", "${workspaceFolder}/.devcontainer/.bashhist:/root/commandhistory", 
                "devcontainer_meltano_dev:latest", "bash"],
            "group": "build", // "test" for tests
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
            "problemMatcher": [],
            "options": {
                "cwd": ".",
                "statusbar": {
                    "color": "#ffffff",
                    "tooltip": "Click to run the bash terminal within the main docker image...",
                    "label": ">docker-bash!"
                }
            }
        },
        {
            "label": "▶ (4) Launch VS Code in container...",
            "type": "shell", // "shell" or "process"
            "command": "code --folder-uri \"vscode-remote://dev-container%2B633a5c46696c65735c536f757263655c646174616f70732d70726f6a6563742d74656d706c617465/projects\"",
            "group": "build", // "test" for tests
            "presentation": {
                "reveal": "always",
                "panel": "shared"
            },
            "problemMatcher": [],
            "options": {
                "cwd": ".",
                "statusbar": {
                    "color": "#ffffff",
                    "tooltip": "Click to run VS Code within the main docker image...",
                    "label": ">docker-vscode!"
                }
            }
        },
    ]
}